prepare-commit-msg:
  scripts:
    'generate-commit-msg.sh':
      runner: bash
      output:
        - meta
        - summary
        - error

pre-commit:
  commands:
    'prevent-commit-on-main':
      run: |
        branch=$(git rev-parse --abbrev-ref HEAD)
        if [ "$branch" = "main" ]; then
          echo "ERROR: Direct commits to main branch are not allowed!"
          exit 1
        fi
    'validate-json-files':
      glob: '*.{json,jsonc}'
      run: |
        ./scripts/validate-json-files.sh

pre-push:
  scripts:
    'prevent-push-to-main.sh':
      runner: bash
