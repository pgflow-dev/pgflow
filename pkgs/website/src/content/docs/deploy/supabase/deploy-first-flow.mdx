---
title: Deploy First Flow
description: Deploy pgflow workers to Supabase.com production
sidebar:
  order: 20
banner:
  content: |
    pgflow is in public beta. <a href="/project-status/">See project status</a> for production readiness details.
---

import { Aside, Steps } from "@astrojs/starlight/components";

This guide walks you through deploying your pgflow worker to Supabase.com production.

<Aside type="caution" title="Prerequisites">
- [Connection string](/deploy/supabase/get-connection-string/) ready
- [Vault secrets configured](/deploy/supabase/configure-secrets/)
</Aside>

<Steps>

1. ### Set database secret

   Workers access the database through the `EDGE_WORKER_DB_URL` environment variable:

   ```bash frame="none"
   npx supabase secrets set EDGE_WORKER_DB_URL="your-connection-string"
   ```

2. ### Deploy your worker

   Deploy your Edge Function to Supabase:

   ```bash frame="none"
   npx supabase functions deploy your-worker-name
   ```

   Replace `your-worker-name` with your actual worker function name (e.g., `greet-user-worker`).

   <Aside type="note">
   You only need to deploy your worker functions. The `pgflow` ControlPlane function is for local compilation only and is not needed in production.
   </Aside>

3. ### Register the worker

   Register your worker so pgflow can manage it automatically:

   ```sql
   SELECT pgflow.track_worker_function('your-worker-name');
   ```

   Run this in the SQL Editor in your Supabase Dashboard.

</Steps>

That's it! The cron automatically keeps your worker running. See [Worker Management](/deploy/worker-management/) for details on how this works.
