---
title: pgflow
description: Postgres-First Workflow Orchestrationâ€”All in SQL
template: splash
hero:
  title: pgflow
  tagline: DAG-based workflow engine, fully integrated with Supabase & PGMQ queues
  image:
    dark: ../../../assets/pgflow-logo-dark.svg
    light: ../../../assets/pgflow-logo-light.svg
  actions:
    - text: Get Started
      link: /pgflow/getting-started/install-pgflow/
      icon: right-arrow
      variant: primary
    - text: View on GitHub
      link: https://github.com/pgflow-dev/pgflow
      icon: github
      variant: minimal
---

import { Card, CardGrid } from '@astrojs/starlight/components';

## SQL Core, TypeScript DSL, and Edge Workers in one

pgflow brings together essential components to create a powerful workflow engine that operates entirely within Postgres:

<CardGrid>
  <Card title="SQL Core" icon="database">
    Pure SQL implementation stored in your database that handles workflow definitions, state transitions, and ACID-compliant processing.
  </Card>
  <Card title="TypeScript DSL" icon="pencil">
    Define your workflows with a type-safe, developer-friendly API that automatically infers step input/output types from your handler functions.
  </Card>
  <Card title="Edge Worker" icon="setting">
    Self-restarting Supabase Edge Function worker that processes tasks reliably with built-in retries and error handling.
  </Card>
  <Card title="CLI Tools" icon="terminal">
    Simple installation and deployment tools to help you get started in minutes. Just run `npx pgflow install` to begin.
  </Card>
</CardGrid>

## The simplicity of DAG-based workflows

pgflow brings the power of Directed Acyclic Graphs (DAGs) to your Supabase projects:

```typescript
// Define a workflow with parallel steps
new Flow<{ url: string }>()
  .step("website", async ({ url }) => {
    const response = await fetch(url);
    return { content: await response.text() };
  })
  .step("sentiment", ["website"], async ({ website }) => {
    return await analyzeSentiment(website.content);
  })
  .step("summary", ["website"], async ({ website }) => {
    return await summarizeWithAI(website.content);
  })
  .step("saveToDb", ["sentiment", "summary"], async (input) => {
    return await saveResults({
      url: input.run.url,
      sentiment: input.sentiment.score,
      summary: input.summary
    });
  });
```

## End-to-end workflow orchestration

<CardGrid>
  <Card title="Store everything in Postgres" icon="open-book">
    Workflow definitions, state, and execution history are stored directly in your Postgres database, providing a single source of truth.
  </Card>
  
  <Card title="Reliable execution with PGMQ" icon="rocket">
    Built on top of [PGMQ](https://github.com/tembo-io/pgmq), ensuring at-least-once delivery with visibility timeouts and dead-letter support.
  </Card>
  
  <Card title="Seamless Supabase integration" icon="puzzle">
    Deploy workflow workers as Supabase Edge Functions that automatically restart when needed, with migrations that install directly into your project.
  </Card>
  
  <Card title="Type-safe development" icon="approve-check">
    Full type inference for step inputs and outputs throughout your workflow DAG, providing compile-time safety and IDE autocompletion.
  </Card>
</CardGrid>

## Architectural diagram

<img 
  src="../../assets/architecture-diagram.svg" 
  alt="pgflow architecture diagram showing the workflow from TypeScript DSL through SQL Core to Edge Workers" 
  width="100%" 
  style="margin: 2rem 0"
/>


## From workflow DSL to execution

The developer experience with pgflow is designed to be simple, while the execution model ensures reliability:

1. **Define your workflow** in TypeScript with the Flow DSL
2. **Deploy to Supabase** with `npx pgflow deploy`
3. **Run your worker** as a Supabase Edge Function
4. **Start workflows** from your application code, SQL triggers, or APIs

The execution system handles the rest - scheduling parallel steps when dependencies are met, retrying failed tasks, and aggregating results from all completed steps.

## Ready to get started?

Install pgflow in your Supabase project in minutes:

```bash
npx pgflow install
```
