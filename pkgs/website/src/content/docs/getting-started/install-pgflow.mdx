---
title: Install pgflow
description: Quick setup guide for pgflow on Supabase. Set up the workflow engine in your project with a simple npx command.
sidebar:
  order: 2
---

import { Aside, Steps, Tabs, CardGrid, Card, Icon, LinkButton } from "@astrojs/starlight/components";
import { FileTree } from '@astrojs/starlight/components';
import NotProductionReady from '../../../../components/NotProductionReady.astro';

<NotProductionReady />

# Transform Your Supabase Project with pgflow

<CardGrid stagger>
  <Card title="One-Command Setup" icon="rocket">
    Install and configure pgflow with a single command - no complex setup required
  </Card>
  <Card title="Automatic Detection" icon="setting">
    The installer automatically detects your Supabase environment
  </Card>
  <Card title="Everything Included" icon="puzzle">
    Database schema, SQL functions, and connection pooling all set up for you
  </Card>
</CardGrid>

<Aside type="tip" title="Ready to Dive In?">
  Time to complete: ~5 minutes
</Aside>

<Aside type="caution" title="Prerequisites">
- Supabase CLI version **2.0.2** or higher (check with `supabase -v`)
- A local Supabase project set up
- Deno installed (required for flow compilation)

If you haven't installed the CLI yet or need to upgrade, see Supabase's [installation guide](https://supabase.com/docs/guides/cli).
</Aside>

## Let's Get Started!

Setting up pgflow is a breeze! Follow these simple steps to transform your Supabase project into a powerful workflow engine.

<Steps>

1. ### Run the Magic Installer

    <Tabs>
      <Fragment slot="tab.auto">Automatic Installation</Fragment>
      <Fragment slot="tab.manual">Manual Path</Fragment>

      <Fragment slot="panel.auto">
        Run this single command and watch the magic happen:

        ```bash frame="terminal" title="Terminal"
        npx pgflow@latest install
        ```

        The installer will:
        - âœ¨ Detect your Supabase project automatically
        - ðŸ”„ Update your `config.toml` to enable connection pooling
        - ðŸ“Š Copy all required SQL migrations
        - ðŸ”§ Configure environment variables
      </Fragment>

      <Fragment slot="panel.manual">
        If your Supabase directory isn't in a standard location, just point to it:

        ```bash frame="terminal" title="Terminal"
        npx pgflow@latest install --supabase-path=./path/to/supabase
        ```
        
        You'll get the same magical setup, just with a custom path!
      </Fragment>
    </Tabs>

2. ### Apply Configuration Changes

    Restart your Supabase instance to activate the new configuration:

    ```bash frame="terminal" title="Terminal"
    npx supabase stop
    npx supabase start
    ```

    <Aside type="note">
      This restart loads the connection pooling settings that pgflow needs for reliable operation.
    </Aside>

3. ### Apply Migrations

    Deploy the database schema with this simple command:

    ```bash frame="terminal" title="Terminal"
    npx supabase db push
    ```

    <FileTree>
      <FileTree.Folder name="migrations" defaultOpen>
        <FileTree.File name="[timestamp]_pgflow_initial.sql" />
      </FileTree.Folder>
    </FileTree>

</Steps>

## What You Just Installed

<CardGrid>
  <Card title="PostgreSQL Schema" icon="database">
    Tables for workflow definitions (`flows`, `steps`, `deps`) and runtime state (`runs`, `step_states`, `step_tasks`)
  </Card>
  
  <Card title="SQL Functions" icon="function">
    Core functions like `create_flow`, `add_step`, `start_flow`, and more that power your workflows
  </Card>
  
  <Card title="Connection Pooling" icon="random">
    Optimized database connection settings for reliable Edge Worker operations
  </Card>
  
  <Card title="Environment Setup" icon="setting">
    Pre-configured environment variables for seamless integration
  </Card>
</CardGrid>

## Ready for the Next Step?

You've successfully installed pgflow! ðŸŽ‰ Your Supabase project is now equipped with a powerful workflow engine.

<LinkButton href="/getting-started/create-first-flow/" variant="primary">
  <Icon name="rocket" size="1.5rem" />
  Create Your First Workflow
</LinkButton>

<Aside type="tip">
  Not seeing what you expected? Check the Supabase logs with `npx supabase logs` for any installation issues.
</Aside>